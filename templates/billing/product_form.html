{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}{{ page_title }}{% endblock title %}

{% block content %}
<div class="container">
    <div class="details-header-card">
        <div class="patient-info">
            <h2><i class="fas fa-cube"></i> {{ page_title }}</h2>
        </div>
        <div class="header-actions">
            <a href="{{ object.get_absolute_url|default:request.META.HTTP_REFERER|default:'javascript:history.back()' }}" class="button button-secondary">
                <i class="fas fa-arrow-left"></i> Back
            </a>
        </div>
    </div>

    <div class="detail-card" style="margin-top: 20px;">
        <form method="post">
            {% csrf_token %}
            <div class="form-row">
                <div class="form-group col-md-6 mb-0">
                    {{ form.name|as_crispy_field }}
                </div>
                <div class="form-group col-md-6 mb-0">
                    {{ form.category|as_crispy_field }}
                </div>
            </div>
            {{ form.description|as_crispy_field }}
            <div class="form-row">
                <div class="form-group col-md-4 mb-0">
                    {{ form.is_stockable|as_crispy_field }}
                </div>
                <div class="form-group col-md-4 mb-0">
                    {{ form.requires_expiry_tracking|as_crispy_field }}
                </div>
                <div class="form-group col-md-4 mb-0">
                    {{ form.is_active|as_crispy_field }}
                </div>
            </div>
            <div class="main-actions-bar">
                <button type="submit" class="button button-success">
                    <i class="fas fa-save"></i> Save Product
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}